{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","assets/images/user.png","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/AddNewPostForm.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","formControl","error","formSummaryError","Element","_ref","input","meta","props","Object","_Users_admin_Downloads_Work_IT_KAMASUTRA_way_of_samurai_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","touched","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","_Element","assign","__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","maxLength","length","concat","p","descriptionBlock","userAvatar","postsBlock","posts","item","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","ProfileStatusWithHooks","_useState2","useState","status","setStatus","_useState4","editMode","setEditMode","useEffect","react_default","onDoubleClick","onBlur","updateStatus","autoFocus","onChange","event","target","ProfileInfo","profile","s","src","photos","large","userPhoto","fullName","aboutMe","contacts","vk","ProfileInfo_ProfileStatusWithHooks","Preloader","Post","message","likesCount","Textarea","maxLength10","reduxForm","form","onSubmit","handleSubmit","Field","component","name","placeholder","validate","MyPosts","postsElements","map","MyPosts_Post_Post","text","key","id","MyPosts_AddNewPostForm","values","newPost","newPostBody","addPost","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","userId","this","match","params","authorizedUserId","history","getProfile","getStatus","components_Profile_Profile","React","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/2.dcd8a756.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2aUOv\",\"error\":\"FormsControls_error__2kvuB\",\"formSummaryError\":\"FormsControls_formSummaryError__T7Hzf\"};","import React from 'react'\nimport styles from './FormsControls.module.css'\n\n\nconst Element = Element => ({ input, meta, ...props }) => {\n    const hasError = meta.touched && meta.error;\n    return (\n        <div className={ styles.formControl + \" \" + (hasError ? styles.error : \"\") }>\n            <Element {...input} {...props} />\n            { hasError && <span> { meta.error } </span> }\n        </div>\n    );\n};\n\nexport default Element\n\n","export const required = (value) => {\n    if (value) return undefined\n    return 'Field is required'\n}\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\n\n    return undefined\n}\n\n\n\n","module.exports = __webpack_public_path__ + \"static/media/user.c7b5f6a0.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__26a_G\",\"userAvatar\":\"ProfileInfo_userAvatar__1TN9_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__e1oxb\",\"posts\":\"MyPosts_posts__Cp_N3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3YHrq\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, {useEffect, useState} from 'react';\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n    const [status, setStatus] = useState(props.status)\n    const [editMode, setEditMode] = useState(false)\n\n    useEffect( () => {\n        setStatus(props.status)\n    } , [props.status])\n\n    const activateMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n    }\n\n    const onStatusChange = (event) => {\n        setStatus(event.target.value)\n    }\n\n    return (\n        <div>\n            {!editMode && <div>\n                <span onDoubleClick={activateMode}>{props.status || '––––––'}</span>\n            </div>\n            }\n            {editMode && <div>\n                <input onBlur={deactivateMode} value={status} autoFocus={true} onChange={onStatusChange}/>\n            </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            {/*<div>*/}\r\n            {/*    <img src='https://images.unsplash.com/photo-1578608738964-cd27acd5af2c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1291&q=80'/>*/}\r\n            {/*</div>*/}\r\n            <div className={s.descriptionBlock}>\r\n                <img className={s.userAvatar}\r\n                     src={props.profile.photos.large !== null ? props.profile.photos.large : userPhoto}/>\r\n                <p> {props.profile.fullName}</p>\r\n                <p> {props.profile.aboutMe}</p>\r\n                <p> {props.profile.contacts.vk}</p>\r\n\r\n                <ProfileStatusWithHooks status={props.status}\r\n                                        updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n    <div className={s.item}>\r\n      <img src='https://w7.pngwing.com/pngs/39/283/png-transparent-user-user-people-linear-icon-user-infographic-people-monochrome-thumbnail.png' />\r\n        { props.message }\r\n          <div>\r\n        <span>like</span> { props.likesCount }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\nimport Element from \"../../common/FormsControls/FormsControls\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\n\nconst Textarea = Element(\"textarea\");\n\nconst maxLength10 = maxLengthCreator(10)\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field component={Textarea}\n                   name='newPostBody'\n                   placeholder={'post message'}\n                   validate={[required, maxLength10]}/>\n            <button>Add post</button>\n        </form>\n    )\n}\n\nexport default reduxForm({form: 'profileAddNewPostForm'})(AddNewPostForm)\n","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddNewPostForm from \"./AddNewPostForm\";\r\n\r\n\r\nconst MyPosts = (props) => {\r\n\r\n\r\n    const postsElements = props.posts\r\n        .map(p => <Post message={p.text} key={p.id} likesCount={p.likesCount}/>)\r\n\r\n    const onAddPost = (values) => {\r\n        const newPost = values.newPostBody\r\n        props.addPost(newPost)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3> My posts </h3>\r\n\r\n            <AddNewPostForm onSubmit={onAddPost}/>\r\n\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostActionCreator(newPostBody))\r\n        },\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        let userId = this.props.match.params.userId\r\n\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n\r\n        this.props.getProfile(userId)\r\n\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return <Profile profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}\r\n        />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    // console.log('mapStateToProps ProfileContainer Connect')\r\n    return ({\r\n\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth,\r\n    })\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            getProfile,\r\n            getStatus,\r\n            updateStatus\r\n        }),\r\n    withRouter,\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}