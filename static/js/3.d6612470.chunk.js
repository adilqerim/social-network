(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[3],{363:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var c=s(7),o=s(23),n=(s(0),s(20)),i=s(1),r=function(t){return{isAuth:t.auth.isAuth}},a=function(t){return Object(n.b)(r)((function(e){return e.isAuth?Object(i.jsx)(t,Object(c.a)({},e)):Object(i.jsx)(o.a,{to:"/login"})}))}},364:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",userAvatar:"ProfileInfo_userAvatar__qlIFO",contact:"ProfileInfo_contact__1N3gp"}},366:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},367:function(t,e,s){t.exports={item:"Post_item__ihtu9"}},368:function(t,e,s){"use strict";s.r(e);var c=s(0),o=s(20),n=s(137),i=s(23),r=s(19),a=s(363),u=s(136),j=s(364),l=s.n(j),b=s(96),d=s(159),f=s(1),O=function(t){var e=Object(c.useState)(t.status),s=Object(u.a)(e,2),o=s[0],n=s[1],i=Object(c.useState)(!1),r=Object(u.a)(i,2),a=r[0],j=r[1];Object(c.useEffect)((function(){n(t.status)}),[t.status]);return Object(f.jsxs)("div",{children:[!a&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Status: "}),"  ",Object(f.jsx)("span",{onDoubleClick:function(){j(!0)},children:t.status||"\u2013\u2013\u2013\u2013\u2013\u2013"})]}),a&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Status: "})," ",Object(f.jsx)("input",{onBlur:function(){j(!1),t.updateStatus(o)},value:o,autoFocus:!0,onChange:function(t){n(t.target.value)}})]})]})},h=s(94),p=s(170),x=s(76),v=s.n(x),m=s(49),g=Object(h.a)(15),P=Object(p.a)({form:"profileDataForm"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)("button",{children:"Save"}),t.error&&Object(f.jsxs)("div",{className:v.a.formSummaryError,children:[" ",t.error," "]}),Object(m.c)("Name","fullName",[h.b,g],m.a),Object(m.c)(void 0,"lookingForAJob",[],m.a,{type:"checkbox"},"Looking for a job"),Object(m.c)("Enter your professional skills","lookingForAJobDescription",[],m.b,{},"Professional skills"),Object(m.c)("Tell us about you","aboutMe",[],m.b,{},"About me"),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.profile.contacts).map((function(t){return Object(f.jsxs)("div",{className:l.a.contact,children:[" ",Object(f.jsx)("b",{children:t}),Object(m.c)("Enter ".concat(t),"contacts.".concat(t),[],m.a)]})}))]})]})})),k=function(t){var e=t.profile,s=t.isOwner,c=t.goToEditMode;return Object(f.jsxs)("div",{children:[s&&Object(f.jsx)("button",{onClick:c,children:"Edit"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:" Name "}),": ",e.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:" Looking for a job"}),": ",e.lookingForAJob?"Yes":"No"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Professional skills"}),": ",e.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.contacts).map((function(t){if(e.contacts[t])return Object(f.jsx)(S,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},S=function(t){var e=t.contactTitle,s=t.contactValue;return Object(f.jsxs)("div",{className:l.a.contact,children:[Object(f.jsxs)("b",{children:[" ",e,": "]})," ",s]})},_=function(t){var e=Object(c.useState)(!1),s=Object(u.a)(e,2),o=s[0],n=s[1];if(!t.profile)return Object(f.jsx)(b.a,{});return Object(f.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:l.a.userAvatar,src:t.profile.photos.large||d.a}),t.isOwner&&Object(f.jsx)("input",{type:"file",onChange:function(e){var s;(null===(s=e.target.files)||void 0===s?void 0:s.length)&&t.savePhoto(e.target.files[0])}})]}),o?Object(f.jsx)(P,{initialValues:t.profile,profile:t.profile,onSubmit:function(e){t.saveProfile(e).then((function(){n(!1)}))}}):Object(f.jsx)(k,{profile:t.profile,isOwner:t.isOwner,goToEditMode:function(){return n(!0)}}),Object(f.jsx)("div",{children:Object(f.jsx)(O,{status:t.status,updateStatus:t.updateStatus})})]})},y=s(366),A=s.n(y),N=s(367),w=s.n(N),I=function(t){var e=t.text,s=t.likesCount;return Object(f.jsxs)("div",{className:w.a.item,children:[Object(f.jsx)("img",{src:"https://w7.pngwing.com/pngs/39/283/png-transparent-user-user-people-linear-icon-user-infographic-people-monochrome-thumbnail.png"}),e,Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"like"})," ",s]})]})},B=Object(h.a)(100),C=Object(p.a)({form:"profileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(m.c)("Enter your post","newPostBody",[h.b,B],m.b),Object(f.jsx)("button",{children:"Add post"})]})})),E=Object(o.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:n.a.addPost})((function(t){var e=t.posts,s=t.addPost;return Object(f.jsxs)("div",{className:A.a.postsBlock,children:[Object(f.jsx)("h2",{children:"My posts"}),Object(f.jsx)("div",{className:A.a.posts,children:e.map((function(t){return Object(f.jsx)(I,{text:t.text,likesCount:t.likesCount},t.id)}))}),Object(f.jsx)(C,{onSubmit:function(t){var e=t.newPostBody;s(e)}})]})}));e.default=Object(r.d)(Object(o.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfile:n.c,getStatus:n.d,updateStatus:n.g,savePhoto:n.e,saveProfile:n.f}),i.h,a.a)((function(t){var e=+t.match.params.userId;return Object(c.useEffect)((function(){e||(e=t.authorizedUserId)||t.history.push("/login"),e?(t.getProfile(e),t.getStatus(e)):console.error('ID should exists in URI params or in state "authorizedUserId"')}),[e]),Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:!t.match.params.userId,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(f.jsx)(E,{})]})}))}}]);
//# sourceMappingURL=3.d6612470.chunk.js.map